# 三种存储区域

- **堆（Heap）**：用于动态分配内存，需要使用 `new` 和 `delete`（在 C 中使用 `malloc` 和 `free`函数）。程序员可以在运行时请求堆内存，并在使用完后手动释放，否则会导致内存泄漏，例如：

  ```c++
  int* dynamicVariable = new int;  // 存储在堆上
  // 使用 dynamicVariable
  delete dynamicVariable;  // 释放堆内存
  ```

  

- **栈（Stack）**：用于存储局部变量和函数调用的上下文信息。当函数被调用时，函数的参数、局部变量和返回地址等信息会被压入栈中；当函数调用结束时，这些信息会从栈中弹出。栈的大小通常是有限的，并且由编译器自动管理，例如：

  ```cpp
  void someFunction() {
      int localVariable = 10;  // 存储在栈上
      // 函数结束时，localVariable 自动销毁
  }
  ```



- **静态存储区域（Static Storage Area）**：用于存储静态变量和全局变量。静态存储区域中的变量在程序开始时分配内存并初始化，在程序结束时释放。这包括全局变量、静态成员变量、静态局部变量和常量数据等，例如：

  ```c++
  static int staticVariable = 20;  // 存储在静态存储区域
  const int constant = 30;  // 存储在静态存储区域
  class MyClass {
  public:
      static int staticMember;  // 存储在静态存储区域
  };
  int MyClass::staticMember = 40;
  ```

  

### 区别总结

| 存储区域     | 分配方式                                 | 管理方式                                  | 生命周期           | 示例                          |
| ------------ | ---------------------------------------- | ----------------------------------------- | ------------------ | ----------------------------- |
| 栈           | 编译器自动分配                           | 编译器自动管理                            | 函数调用开始到结束 | 函数内的局部变量              |
| 堆           | 程序员手动分配（使用 `new` 或 `malloc`） | 程序员手动管理（使用 `delete` 或 `free`） | 从分配到释放       | `int* ptr = new int;`         |
| 静态存储区域 | 编译器自动分配                           | 编译器自动管理                            | 程序开始到结束     | 静态变量、全局变量、const常量 |